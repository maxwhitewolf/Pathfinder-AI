{"ast":null,"code":"// Utility function to extract error message from FastAPI error response\nexport const extractErrorMessage = error => {\n  if (!error) return 'An error occurred';\n\n  // If error is a string, return it\n  if (typeof error === 'string') return error;\n\n  // If error is an object with a detail property\n  if (error.detail) {\n    // If detail is an array (FastAPI validation errors)\n    if (Array.isArray(error.detail)) {\n      // Extract messages from validation errors\n      return error.detail.map(err => {\n        const field = err.loc ? err.loc.slice(1).join('.') : 'field';\n        return `${field}: ${err.msg}`;\n      }).join(', ');\n    }\n    // If detail is a string\n    if (typeof error.detail === 'string') {\n      return error.detail;\n    }\n  }\n\n  // If error has a message property\n  if (error.message) return error.message;\n\n  // Default fallback\n  return 'An error occurred';\n};\n\n// Helper to extract error from axios error response\nexport const getErrorFromResponse = (error, defaultMessage = 'An error occurred') => {\n  var _error$response;\n  if (error !== null && error !== void 0 && (_error$response = error.response) !== null && _error$response !== void 0 && _error$response.data) {\n    return extractErrorMessage(error.response.data);\n  }\n  if (error !== null && error !== void 0 && error.message) {\n    return error.message;\n  }\n  return defaultMessage;\n};","map":{"version":3,"names":["extractErrorMessage","error","detail","Array","isArray","map","err","field","loc","slice","join","msg","message","getErrorFromResponse","defaultMessage","_error$response","response","data"],"sources":["C:/Users/nsaij/Downloads/PathfinderAI/frontend/src/utils/errorHandler.js"],"sourcesContent":["// Utility function to extract error message from FastAPI error response\r\nexport const extractErrorMessage = (error) => {\r\n  if (!error) return 'An error occurred';\r\n  \r\n  // If error is a string, return it\r\n  if (typeof error === 'string') return error;\r\n  \r\n  // If error is an object with a detail property\r\n  if (error.detail) {\r\n    // If detail is an array (FastAPI validation errors)\r\n    if (Array.isArray(error.detail)) {\r\n      // Extract messages from validation errors\r\n      return error.detail\r\n        .map(err => {\r\n          const field = err.loc ? err.loc.slice(1).join('.') : 'field';\r\n          return `${field}: ${err.msg}`;\r\n        })\r\n        .join(', ');\r\n    }\r\n    // If detail is a string\r\n    if (typeof error.detail === 'string') {\r\n      return error.detail;\r\n    }\r\n  }\r\n  \r\n  // If error has a message property\r\n  if (error.message) return error.message;\r\n  \r\n  // Default fallback\r\n  return 'An error occurred';\r\n};\r\n\r\n// Helper to extract error from axios error response\r\nexport const getErrorFromResponse = (error, defaultMessage = 'An error occurred') => {\r\n  if (error?.response?.data) {\r\n    return extractErrorMessage(error.response.data);\r\n  }\r\n  if (error?.message) {\r\n    return error.message;\r\n  }\r\n  return defaultMessage;\r\n};\r\n\r\n"],"mappings":"AAAA;AACA,OAAO,MAAMA,mBAAmB,GAAIC,KAAK,IAAK;EAC5C,IAAI,CAACA,KAAK,EAAE,OAAO,mBAAmB;;EAEtC;EACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAOA,KAAK;;EAE3C;EACA,IAAIA,KAAK,CAACC,MAAM,EAAE;IAChB;IACA,IAAIC,KAAK,CAACC,OAAO,CAACH,KAAK,CAACC,MAAM,CAAC,EAAE;MAC/B;MACA,OAAOD,KAAK,CAACC,MAAM,CAChBG,GAAG,CAACC,GAAG,IAAI;QACV,MAAMC,KAAK,GAAGD,GAAG,CAACE,GAAG,GAAGF,GAAG,CAACE,GAAG,CAACC,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC,GAAG,OAAO;QAC5D,OAAO,GAAGH,KAAK,KAAKD,GAAG,CAACK,GAAG,EAAE;MAC/B,CAAC,CAAC,CACDD,IAAI,CAAC,IAAI,CAAC;IACf;IACA;IACA,IAAI,OAAOT,KAAK,CAACC,MAAM,KAAK,QAAQ,EAAE;MACpC,OAAOD,KAAK,CAACC,MAAM;IACrB;EACF;;EAEA;EACA,IAAID,KAAK,CAACW,OAAO,EAAE,OAAOX,KAAK,CAACW,OAAO;;EAEvC;EACA,OAAO,mBAAmB;AAC5B,CAAC;;AAED;AACA,OAAO,MAAMC,oBAAoB,GAAGA,CAACZ,KAAK,EAAEa,cAAc,GAAG,mBAAmB,KAAK;EAAA,IAAAC,eAAA;EACnF,IAAId,KAAK,aAALA,KAAK,gBAAAc,eAAA,GAALd,KAAK,CAAEe,QAAQ,cAAAD,eAAA,eAAfA,eAAA,CAAiBE,IAAI,EAAE;IACzB,OAAOjB,mBAAmB,CAACC,KAAK,CAACe,QAAQ,CAACC,IAAI,CAAC;EACjD;EACA,IAAIhB,KAAK,aAALA,KAAK,eAALA,KAAK,CAAEW,OAAO,EAAE;IAClB,OAAOX,KAAK,CAACW,OAAO;EACtB;EACA,OAAOE,cAAc;AACvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}