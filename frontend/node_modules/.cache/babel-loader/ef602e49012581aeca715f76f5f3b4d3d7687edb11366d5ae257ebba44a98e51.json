{"ast":null,"code":"// Utility to validate and sanitize data before rendering in React\n\n/**\r\n * Validates if a career object is valid and safe to render\r\n */\nexport const isValidCareer = career => {\n  if (!career || typeof career !== 'object') return false;\n  if (!career.career || typeof career.career !== 'string') return false;\n  return true;\n};\n\n/**\r\n * Validates if similarity_score is a valid number\r\n */\nexport const isValidSimilarityScore = score => {\n  return typeof score === 'number' && !isNaN(score) && isFinite(score);\n};\n\n/**\r\n * Sanitizes a skill to ensure it's a string\r\n */\nexport const sanitizeSkill = skill => {\n  if (typeof skill === 'string') return skill;\n  if (typeof skill === 'number') return String(skill);\n  if (skill && typeof skill === 'object') {\n    // If it's an object, try to extract a meaningful string\n    if (skill.name) return String(skill.name);\n    if (skill.skill) return String(skill.skill);\n    return JSON.stringify(skill);\n  }\n  return String(skill || '');\n};\n\n/**\r\n * Filters and validates an array of careers\r\n */\nexport const filterValidCareers = careers => {\n  if (!Array.isArray(careers)) return [];\n  return careers.filter(career => isValidCareer(career)).map(career => ({\n    ...career,\n    // Ensure required_skills is an array of strings\n    required_skills: Array.isArray(career.required_skills) ? career.required_skills.map(sanitizeSkill) : [],\n    // Ensure matching_skills is an array of strings\n    matching_skills: Array.isArray(career.matching_skills) ? career.matching_skills.map(sanitizeSkill) : [],\n    // Ensure missing_skills is an array of strings\n    missing_skills: Array.isArray(career.missing_skills) ? career.missing_skills.map(sanitizeSkill) : [],\n    // Ensure similarity_score is a number\n    similarity_score: isValidSimilarityScore(career.similarity_score) ? career.similarity_score : undefined\n  }));\n};","map":{"version":3,"names":["isValidCareer","career","isValidSimilarityScore","score","isNaN","isFinite","sanitizeSkill","skill","String","name","JSON","stringify","filterValidCareers","careers","Array","isArray","filter","map","required_skills","matching_skills","missing_skills","similarity_score","undefined"],"sources":["C:/Users/nsaij/Downloads/PathfinderAI/frontend/src/utils/dataValidator.js"],"sourcesContent":["// Utility to validate and sanitize data before rendering in React\r\n\r\n/**\r\n * Validates if a career object is valid and safe to render\r\n */\r\nexport const isValidCareer = (career) => {\r\n  if (!career || typeof career !== 'object') return false;\r\n  if (!career.career || typeof career.career !== 'string') return false;\r\n  return true;\r\n};\r\n\r\n/**\r\n * Validates if similarity_score is a valid number\r\n */\r\nexport const isValidSimilarityScore = (score) => {\r\n  return typeof score === 'number' && !isNaN(score) && isFinite(score);\r\n};\r\n\r\n/**\r\n * Sanitizes a skill to ensure it's a string\r\n */\r\nexport const sanitizeSkill = (skill) => {\r\n  if (typeof skill === 'string') return skill;\r\n  if (typeof skill === 'number') return String(skill);\r\n  if (skill && typeof skill === 'object') {\r\n    // If it's an object, try to extract a meaningful string\r\n    if (skill.name) return String(skill.name);\r\n    if (skill.skill) return String(skill.skill);\r\n    return JSON.stringify(skill);\r\n  }\r\n  return String(skill || '');\r\n};\r\n\r\n/**\r\n * Filters and validates an array of careers\r\n */\r\nexport const filterValidCareers = (careers) => {\r\n  if (!Array.isArray(careers)) return [];\r\n  \r\n  return careers\r\n    .filter(career => isValidCareer(career))\r\n    .map(career => ({\r\n      ...career,\r\n      // Ensure required_skills is an array of strings\r\n      required_skills: Array.isArray(career.required_skills)\r\n        ? career.required_skills.map(sanitizeSkill)\r\n        : [],\r\n      // Ensure matching_skills is an array of strings\r\n      matching_skills: Array.isArray(career.matching_skills)\r\n        ? career.matching_skills.map(sanitizeSkill)\r\n        : [],\r\n      // Ensure missing_skills is an array of strings\r\n      missing_skills: Array.isArray(career.missing_skills)\r\n        ? career.missing_skills.map(sanitizeSkill)\r\n        : [],\r\n      // Ensure similarity_score is a number\r\n      similarity_score: isValidSimilarityScore(career.similarity_score)\r\n        ? career.similarity_score\r\n        : undefined\r\n    }));\r\n};\r\n\r\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA,OAAO,MAAMA,aAAa,GAAIC,MAAM,IAAK;EACvC,IAAI,CAACA,MAAM,IAAI,OAAOA,MAAM,KAAK,QAAQ,EAAE,OAAO,KAAK;EACvD,IAAI,CAACA,MAAM,CAACA,MAAM,IAAI,OAAOA,MAAM,CAACA,MAAM,KAAK,QAAQ,EAAE,OAAO,KAAK;EACrE,OAAO,IAAI;AACb,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMC,sBAAsB,GAAIC,KAAK,IAAK;EAC/C,OAAO,OAAOA,KAAK,KAAK,QAAQ,IAAI,CAACC,KAAK,CAACD,KAAK,CAAC,IAAIE,QAAQ,CAACF,KAAK,CAAC;AACtE,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMG,aAAa,GAAIC,KAAK,IAAK;EACtC,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAOA,KAAK;EAC3C,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE,OAAOC,MAAM,CAACD,KAAK,CAAC;EACnD,IAAIA,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IACtC;IACA,IAAIA,KAAK,CAACE,IAAI,EAAE,OAAOD,MAAM,CAACD,KAAK,CAACE,IAAI,CAAC;IACzC,IAAIF,KAAK,CAACA,KAAK,EAAE,OAAOC,MAAM,CAACD,KAAK,CAACA,KAAK,CAAC;IAC3C,OAAOG,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAC;EAC9B;EACA,OAAOC,MAAM,CAACD,KAAK,IAAI,EAAE,CAAC;AAC5B,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMK,kBAAkB,GAAIC,OAAO,IAAK;EAC7C,IAAI,CAACC,KAAK,CAACC,OAAO,CAACF,OAAO,CAAC,EAAE,OAAO,EAAE;EAEtC,OAAOA,OAAO,CACXG,MAAM,CAACf,MAAM,IAAID,aAAa,CAACC,MAAM,CAAC,CAAC,CACvCgB,GAAG,CAAChB,MAAM,KAAK;IACd,GAAGA,MAAM;IACT;IACAiB,eAAe,EAAEJ,KAAK,CAACC,OAAO,CAACd,MAAM,CAACiB,eAAe,CAAC,GAClDjB,MAAM,CAACiB,eAAe,CAACD,GAAG,CAACX,aAAa,CAAC,GACzC,EAAE;IACN;IACAa,eAAe,EAAEL,KAAK,CAACC,OAAO,CAACd,MAAM,CAACkB,eAAe,CAAC,GAClDlB,MAAM,CAACkB,eAAe,CAACF,GAAG,CAACX,aAAa,CAAC,GACzC,EAAE;IACN;IACAc,cAAc,EAAEN,KAAK,CAACC,OAAO,CAACd,MAAM,CAACmB,cAAc,CAAC,GAChDnB,MAAM,CAACmB,cAAc,CAACH,GAAG,CAACX,aAAa,CAAC,GACxC,EAAE;IACN;IACAe,gBAAgB,EAAEnB,sBAAsB,CAACD,MAAM,CAACoB,gBAAgB,CAAC,GAC7DpB,MAAM,CAACoB,gBAAgB,GACvBC;EACN,CAAC,CAAC,CAAC;AACP,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}